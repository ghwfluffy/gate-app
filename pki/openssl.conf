# openssl.conf

[ req ]
default_bits        = 2048
default_md          = sha256
prompt              = no
distinguished_name  = dn
req_extensions      = v3_req

[ dn ]
CN = unused

[ v3_req ]
# (CSR-only helper; not used for signing)
basicConstraints = CA:FALSE
keyUsage         = critical, digitalSignature, keyEncipherment

# ---------------------------
# Root CA (self-signed)
# ---------------------------
[ v3_root ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints       = critical, CA:TRUE, pathlen:1
keyUsage               = critical, keyCertSign, cRLSign

# ---------------------------
# Intermediate / Issuing CA
# ---------------------------
[ v3_ca ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid:always,issuer
basicConstraints       = critical, CA:TRUE, pathlen:0
keyUsage               = critical, keyCertSign, cRLSign

# ---------------------------
# TLS Server cert
# ---------------------------
[ v3_tlserver ]
subjectKeyIdentifier   = hash
authorityKeyIdentifier = keyid,issuer
basicConstraints       = critical, CA:FALSE
keyUsage               = critical, digitalSignature, keyEncipherment
extendedKeyUsage       = serverAuth
subjectAltName         = @alt_names

[ alt_names ]
DNS.1 = api-v2.gatewise.com
